generator client {
  provider = "prisma-client-js"
  previewFeatures = ["filterJson"]
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model User {
  UserID        String  @id @default(cuid()) @map("user_id")
  email         String @unique
  password      String  @map("password")
  passwordSalt  String  @map("password_salt")
  identity      String  @map("identity")

  @@map("user")
}

model Assist{
  UserID          String    @id @map("user_id")
  NGONum          String?   @unique @map("ngo_number")
  OrgName         String    @map("organisation_id")
  Description     String?   @map("description")
  AddressID       String?   @map("address_id")
  profilePicture  String?   @map("profile_picture")
  dateCreated     DateTime  @map("date_created") @default(now())

  @@map("assist")
}

model Messages{
  UserID        String  @map("user_id")
  AssistID      String  @map("assist_id")
  PastMessages  String  @map("past_messages")
  NotifyAssist  Boolean @map("notify_assist")
  NotifyNeed    Boolean @map("notify_need")

  @@id([UserID,AssistID])
  @@map("messages")
}

model Rate{
  UserID    String  @map("user_id")
  AssistID  String  @map("assist_id")
  Rating    Int     @map("rating")

  @@id([UserID,AssistID])
  @@map("rate")
}

model Comment{
  UserID    String  @map("user_id")
  AssistID  String  @map("assist_id")
  Comment   String  @map("comment")

  @@id([UserID,AssistID])
  @@map("comment")
}

model Item{
  ItemID      String  @map("Item_id") @id
  ItemName    String  @map("item_name")
  Picture     String  @map("picture")
  Description String  @map("description")
  Type        category  @map("type")

  @@map("item")
}

model Inventory{
  ItemID    String  @map("item_id")
  UserID    String  @map("user_id")
  Quantity  Int     @map("quantity")

  @@id([ItemID,UserID])
  @@map("inventory")
}

enum category {
  CLOTHING
  FOOD
  TECH
  STATIONARY
  HYGIENE
  FURNITURE
  KITCHEN
}